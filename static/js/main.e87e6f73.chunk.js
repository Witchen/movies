(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{25:function(e,t,n){e.exports=n(48)},30:function(e,t,n){},31:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(20),i=n.n(r),l=(n(30),n(7)),c=n(5),u=(n(31),n(17)),s=n(9),d=n(10),m=n(12),p=n(11),v=n(13);function g(e){var t=e.movie;return o.a.createElement("div",{style:f.container},o.a.createElement(l.b,{to:"/movie?id="+t.id},o.a.createElement("img",{src:t.image,style:f.image,alt:"NA"})),o.a.createElement("span",{style:f.title},t.title))}var f={container:{display:"flex",flexDirection:"column",margin:"10px",padding:"10px",backgroundColor:"#36404a",borderRadius:"5px"},image:{marginBottom:"5px"},title:{fontSize:"0.9rem"}};function h(e){var t=e.movieGroup,n=t.groupName,a=t.movies;return o.a.createElement("div",{style:b.container},o.a.createElement("div",{style:b.groupNameContainer},o.a.createElement("span",null,n)),o.a.createElement("div",{style:b.moviesContainer},a.map((function(e,t){return o.a.createElement(g,{key:t,movie:e})}))))}var b={container:{maxWidth:"100%",width:"100%",border:"3px solid white",borderRadius:"5px",marginBottom:"20px"},groupNameContainer:{margin:"10px 0px",fontSize:"2rem"},moviesContainer:{display:"flex",overflowX:"auto",paddingBottom:"20px"}},y=function(e,t){fetch(e,{method:"GET"}).then((function(e){return e.json()})).then(t).catch((function(e){console.log("Request failed",e)}))},E="https://cdn-discover.hooq.tv/v1.2/discover/feed?region=ID&page=[page]&perPage=20",w="Multi-Title-Manual-Curation",x="POSTER",O=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).getFeed=function(){window.removeEventListener("scroll",n.handleScroll),n.page+=1;var e=E.replace("[page]",n.page);y(e,n.updateFeed)},n.updateFeed=function(e){if(0!==e.data.length){var t=e.data.filter((function(e){return e.type===w})).map((function(e){return{groupName:e.row_name,movies:e.data.map((function(e){var t=e.images.filter((function(e){return e.type===x}))[0],n=t?t.url:"";return{id:e.id,title:e.title,image:n}}))}})),a=[].concat(Object(u.a)(n.state.movieGroups),Object(u.a)(t));n.setState({movieGroups:a}),window.addEventListener("scroll",n.handleScroll)}},n.handleScroll=function(){var e=document.documentElement.scrollHeight;document.documentElement.scrollTop/e>.8&&n.getFeed()},n.state={movieGroups:[]},n.page=0,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getFeed()}},{key:"render",value:function(){return o.a.createElement("div",{style:k.container,onScroll:this.handleScroll},this.state.movieGroups.map((function(e,t){return o.a.createElement(h,{key:t,movieGroup:e})})))}}]),t}(o.a.Component),k={container:{textAlign:"center",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"calc(10px + 2vmin)",padding:"20px"}},j=O,N=n(23),C=n(24),S=n.n(C);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(N.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={movie:null},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=S.a.parse(document.location.search).id;y("https://cdn-discover.hooq.tv/v1.2/discover/titles/"+t,(function(t){t.data&&e.setState({movie:t.data})}))}},{key:"getPeopleNames",value:function(e,t){return e.filter((function(e){return e.role===t})).map((function(e){return e.name})).join(", ")}},{key:"getNotNull",value:function(e){return e||"-"}},{key:"render",value:function(){var e=this.state.movie;if(!e)return null;var t=e.images[1].url,n=this.getPeopleNames(e.people,"DIRECTOR"),a=this.getPeopleNames(e.people,"CAST"),r=[{label:"Age Rating",value:this.getNotNull(e.meta.ageRating)},{label:"Release",value:this.getNotNull(e.meta.releaseYear)},{label:"Run Time",value:this.getNotNull(e.running_time_friendly)},{label:"Director",value:this.getNotNull(n)},{label:"Cast",value:this.getNotNull(a)}];return o.a.createElement("div",{style:A.container},o.a.createElement("div",{style:A.imageContainer},o.a.createElement("img",{src:t,alt:"NA",style:A.image})),o.a.createElement("div",{style:P({},A.card,{fontSize:"1.5em"})},o.a.createElement("span",null,e.title)),o.a.createElement("div",{style:A.card},o.a.createElement("span",null,e.description)),o.a.createElement("div",{style:A.card},o.a.createElement("table",null,o.a.createElement("tbody",{style:{verticalAlign:"top"}},r.map((function(e,t){var n=e.label,a=e.value;return o.a.createElement("tr",{key:t,style:A.row},o.a.createElement("td",{style:A.label},n),o.a.createElement("td",null,a))}))))),o.a.createElement("div",null,o.a.createElement(l.b,{to:"/"},o.a.createElement("button",{style:A.backButton},"Back"))))}}]),t}(o.a.Component),A={container:{display:"flex",flexDirection:"column",justifyContent:"stretch",alignItems:"stretch",maxWidth:"580px",margin:"30px auto",padding:"20px",borderRadius:"20px",backgroundColor:"#226ec1"},card:{backgroundColor:"darkcyan",padding:"15px 10px",marginBottom:"15px",borderRadius:"10px"},imageContainer:{margin:"auto",marginBottom:"15px"},image:{width:"100%",borderRadius:"10px"},row:{padding:"10px 0px"},label:{whiteSpace:"nowrap",paddingRight:"20px",paddingBottom:"10px"},backButton:{width:"100%",height:"40px",backgroundColor:"skyblue",borderColor:"cornflowerblue",borderRadius:"10px",cursor:"pointer"}};var B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function T(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement((function(){return o.a.createElement(l.a,null,o.a.createElement("div",null,o.a.createElement(c.c,null,o.a.createElement(c.a,{path:"/movie"},o.a.createElement(D,null)),o.a.createElement(c.a,{path:"/"},o.a.createElement(j,null)))))}),null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/movies",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/movies","/service-worker.js");B?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):T(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):T(t,e)}))}}()}},[[25,1,2]]]);
//# sourceMappingURL=main.e87e6f73.chunk.js.map