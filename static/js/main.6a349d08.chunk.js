(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{25:function(e,t,n){e.exports=n(48)},30:function(e,t,n){},31:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),i=n.n(o),l=(n(30),n(7)),c=n(5),u=(n(31),n(17)),m=n(9),s=n(10),d=n(12),p=n(11),g=n(13);function v(e){var t=e.movie;return r.a.createElement("div",{style:f.container},r.a.createElement(l.b,{to:"/movie?id="+t.id},r.a.createElement("img",{src:t.image,style:f.image,alt:"NA"})),r.a.createElement("span",{style:f.title},t.title))}var f={container:{display:"flex",flexDirection:"column",margin:"10px",padding:"10px",backgroundColor:"#36404a",borderRadius:"5px"},image:{marginBottom:"5px"},title:{fontSize:"0.9rem"}};function h(e){var t=e.movieGroup,n=t.groupName,a=t.movies;return r.a.createElement("div",{style:b.container},r.a.createElement("div",{style:b.groupNameContainer},r.a.createElement("span",null,n)),r.a.createElement("div",{style:b.moviesContainer},a.map((function(e,t){return r.a.createElement(v,{key:t,movie:e})}))))}var b={container:{maxWidth:"100%",width:"100%",border:"3px solid white",borderRadius:"5px",marginBottom:"20px"},groupNameContainer:{margin:"10px 0px",fontSize:"2rem"},moviesContainer:{display:"flex",overflowX:"auto",paddingBottom:"20px"}},y=function(e,t){fetch(e,{method:"GET"}).then((function(e){return e.json()})).then(t).catch((function(e){console.log("Request failed",e)}))},E="https://cdn-discover.hooq.tv/v1.2/discover/feed?region=ID&page=[page]&perPage=20",x="Multi-Title-Manual-Curation",O="POSTER",w=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).getFeed=function(){window.removeEventListener("scroll",n.handleScroll),n.page+=1;var e=E.replace("[page]",n.page);y(e,n.updateFeed)},n.updateFeed=function(e){if(0!==e.data.length){var t=e.data.filter((function(e){return e.type===x})).map((function(e){return{groupName:e.row_name,movies:e.data.map((function(e){var t=e.images.filter((function(e){return e.type===O}))[0],n=t?t.url:"";return{id:e.id,title:e.title,image:n}}))}})),a=[].concat(Object(u.a)(n.state.movieGroups),Object(u.a)(t));n.setState({movieGroups:a}),window.addEventListener("scroll",n.handleScroll)}},n.handleScroll=function(){var e=document.documentElement.scrollHeight;document.documentElement.scrollTop/e>.8&&n.getFeed()},n.state={movieGroups:[]},n.page=0,n}return Object(g.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getFeed()}},{key:"render",value:function(){return r.a.createElement("div",{style:j.container,onScroll:this.handleScroll},this.state.movieGroups.map((function(e,t){return r.a.createElement(h,{key:t,movieGroup:e})})))}}]),t}(r.a.Component),j={container:{textAlign:"center",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"calc(10px + 2vmin)",padding:"20px"}},k=w,N=n(23),C=n(24),S=n.n(C);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(N.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={movie:null},n}return Object(g.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=S.a.parse(document.location.search).id;y("https://cdn-discover.hooq.tv/v1.2/discover/titles/"+t,(function(t){t.data&&e.setState({movie:t.data})}))}},{key:"getPeopleNames",value:function(e,t){return e.filter((function(e){return e.role===t})).map((function(e){return e.name})).join(", ")}},{key:"getNotNull",value:function(e){return e||"-"}},{key:"render",value:function(){var e=this.state.movie;if(!e)return null;var t=e.images[1].url,n=this.getPeopleNames(e.people,"DIRECTOR"),a=this.getPeopleNames(e.people,"CAST"),o=[{label:"Age Rating",value:this.getNotNull(e.meta.ageRating)},{label:"Release",value:this.getNotNull(e.meta.releaseYear)},{label:"Run Time",value:this.getNotNull(e.running_time_friendly)},{label:"Director",value:this.getNotNull(n)},{label:"Cast",value:this.getNotNull(a)}];return r.a.createElement("div",{style:B.container},r.a.createElement("div",{style:B.imageContainer},r.a.createElement("img",{src:t,alt:"NA",style:B.image})),r.a.createElement("div",{style:P({},B.card,{fontSize:"1.5em"})},r.a.createElement("span",null,e.title)),r.a.createElement("div",{style:B.card},r.a.createElement("span",null,e.description)),r.a.createElement("div",{style:B.card},r.a.createElement("table",null,r.a.createElement("tbody",{style:{verticalAlign:"top"}},o.map((function(e,t){var n=e.label,a=e.value;return r.a.createElement("tr",{key:t,style:B.row},r.a.createElement("td",{style:B.label},n),r.a.createElement("td",null,a))}))))),r.a.createElement("div",null,r.a.createElement(l.b,{to:"/"},r.a.createElement("button",{style:B.backButton},"Back"))))}}]),t}(r.a.Component),B={container:{display:"flex",flexDirection:"column",justifyContent:"stretch",alignItems:"stretch",maxWidth:"580px",margin:"30px auto",padding:"20px",borderRadius:"20px",backgroundColor:"#226ec1"},card:{backgroundColor:"darkcyan",padding:"15px 10px",marginBottom:"15px",borderRadius:"10px"},imageContainer:{margin:"auto",marginBottom:"15px"},image:{width:"100%",borderRadius:"10px"},row:{padding:"10px 0px"},label:{whiteSpace:"nowrap",paddingRight:"20px",paddingBottom:"10px"},backButton:{width:"100%",height:"40px",backgroundColor:"skyblue",borderColor:"cornflowerblue",borderRadius:"10px",cursor:"pointer"}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement((function(){return r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/movie"},r.a.createElement(D,null)),r.a.createElement(c.a,{path:"/"},r.a.createElement(k,null)))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.6a349d08.chunk.js.map